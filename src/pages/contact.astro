---
import Layout from '../components/Layout.astro';
import Button from '../components/Button.astro';
---

<Layout title="Contact Us - American Loyalty" currentPage="contact">
	<!-- HERO SECTION -->
	<section class="relative bg-brand-blue h-[420px] lg:h-[560px] mb-0">
		<!-- Contact Header Content -->
		<div class="absolute left-1/2 top-[123px] lg:top-[171px] transform -translate-x-1/2 text-center px-4">
			<div class="flex flex-col gap-2 lg:gap-2 items-center text-white">
				<h1 class="font-semibold text-[36px] lg:text-[87px] leading-[1.36] tracking-[-1.2px] lg:tracking-[-3px] mb-0 contact-hero-title max-w-[280px] lg:max-w-none">
					Contact Us
				</h1>
				<p class="font-medium text-[12px] lg:text-[21.7px] leading-[1.36] tracking-[-0.4px] lg:tracking-[-0.72px] text-white/86 contact-hero-subtitle max-w-[300px] lg:max-w-none">
					<span class="hidden lg:inline">You are one step closer to better customer loyalty!</span>
					<span class="lg:hidden">Built on Loyalty. Backed by Experience.</span>
				</p>
			</div>
		</div>

		<!-- Contact Buttons - Desktop -->
		<div class="hidden lg:flex absolute left-1/2 top-[371px] transform -translate-x-1/2 contact-buttons-desktop">
			<div class="flex flex-row gap-4 items-center justify-center">
				<!-- Phone Button -->
				<div class="flex flex-row gap-3 items-center justify-center contact-phone-btn hover:bg-red-700 transition-all duration-300 cursor-pointer">
					<Button 
						text="+1-309-3095443"
						variant="contact"
						iconType="phone"
						href="tel:+1-309-3095443"
						className="h-[59px] px-6 py-3 text-[22px] font-normal leading-[39px] whitespace-nowrap"
					/>
				</div>

				<!-- Email Button -->
				<div class="flex flex-row gap-5 items-center justify-center contact-email-btn hover:bg-red-700 transition-all duration-300 cursor-pointer">
					<Button 
						text="contact@whiter.co"
						variant="contact"
						iconType="email"
						href="mailto:contact@whiter.co"
						className="h-[59px] px-6 py-3 text-[22px] font-medium leading-[39px] whitespace-nowrap"
					/>
				</div>
			</div>
		</div>

		<!-- Contact Buttons - Mobile -->
		<div class="lg:hidden absolute left-1/2 top-[230px] transform -translate-x-1/2 flex flex-col gap-3 items-center contact-buttons-mobile">
			<!-- Phone Button Mobile -->
			<div class="contact-phone-btn-mobile hover:bg-red-700 transition-all duration-300 cursor-pointer">
				<Button 
					text="+1-309-3095443"
					variant="contact"
					iconType="phone"
					href="tel:+1-309-3095443"
					className="h-[53px] px-4 py-3 w-[258px] text-[20px] font-normal leading-[35px]"
				/>
			</div>

			<!-- Email Button Mobile -->
			<div class="contact-email-btn-mobile hover:bg-red-700 transition-all duration-300 cursor-pointer">
				<Button 
					text="contact@whiter.co"
					variant="contact"
					iconType="email"
					href="mailto:contact@whiter.co"
					className="h-[53px] px-4 py-3 w-[258px] text-[20px] font-medium leading-[35px] rounded-md"
				/>
			</div>
		</div>
	</section>

	<!-- FORM SECTION -->
	<section class="relative bg-white py-16 lg:py-24">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
			<div class="flex flex-col lg:flex-row gap-12 lg:gap-20 items-start">
				<!-- Left Column - Image (Desktop) -->
				<div class="hidden lg:block lg:w-1/2">
					<div class="relative contact-desktop-image">
						<img 
							src="https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"
							alt="Contact us - American Loyalty team"
							class="w-full h-[600px] object-cover rounded-2xl shadow-2xl"
						/>
						<div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent rounded-2xl"></div>
					</div>
				</div>

				<!-- Right Column - Form -->
				<div class="w-full lg:w-1/2">
					<!-- Mobile Image -->
					<div class="block lg:hidden mb-8 contact-mobile-image">
						<img 
							src="https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"
							alt="Contact us - American Loyalty team"
							class="w-full h-48 object-cover rounded-2xl shadow-xl"
						/>
					</div>

					<!-- Form Container -->
					<div class="contact-form-container">
						<div class="bg-white rounded-2xl shadow-xl p-6 lg:p-8 border border-gray-100">
							<div class="contact-form-content">
								<!-- Form Header -->
								<div class="mb-8">
									<h2 class="text-2xl lg:text-3xl font-bold text-gray-900 mb-2">Get in Touch</h2>
									<p class="text-gray-600 text-base lg:text-lg">Ready to transform your customer loyalty? Let's start the conversation.</p>
								</div>

								<!-- Contact Form -->
								<form class="space-y-6" method="POST" action="/contact" data-contact-form>
									<!-- Name Field -->
									<div class="form-field">
										<label for="name" class="block text-sm font-semibold text-gray-700 mb-2">Full Name *</label>
										<input 
											type="text" 
											id="name" 
											name="name" 
											required 
											class="form-input w-full px-4 py-3 lg:py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-brand-red focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500"
											placeholder="Enter your full name"
										/>
									</div>

									<!-- Email Field -->
									<div class="form-field">
										<label for="email" class="block text-sm font-semibold text-gray-700 mb-2">Email Address *</label>
										<input 
											type="email" 
											id="email" 
											name="email" 
											required 
											class="form-input w-full px-4 py-3 lg:py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-brand-red focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500"
											placeholder="Enter your email address"
										/>
									</div>

									<!-- Company Field -->
									<div class="form-field">
										<label for="company" class="block text-sm font-semibold text-gray-700 mb-2">Company Name</label>
										<input 
											type="text" 
											id="company" 
											name="company" 
											class="form-input w-full px-4 py-3 lg:py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-brand-red focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500"
											placeholder="Enter your company name"
										/>
									</div>

									<!-- Phone Field -->
									<div class="form-field">
										<label for="phone" class="block text-sm font-semibold text-gray-700 mb-2">Phone Number</label>
										<input 
											type="tel" 
											id="phone" 
											name="phone" 
											class="form-input w-full px-4 py-3 lg:py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-brand-red focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500"
											placeholder="Enter your phone number"
										/>
									</div>

									<!-- Message Field -->
									<div class="form-field">
										<label for="message" class="block text-sm font-semibold text-gray-700 mb-2">Message *</label>
										<textarea 
											id="message" 
											name="message" 
											required 
											rows="4" 
											class="form-input w-full px-4 py-3 lg:py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-brand-red focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500 resize-none"
											placeholder="Tell us about your loyalty program needs..."
										></textarea>
									</div>

									<!-- Submit Button -->
									<div class="pt-4 lg:pt-6 form-submit">
										<Button 
											text="Send Message"
											variant="submit"
											type="submit"
											iconType="send"
											fullWidth={true}
											className="h-[71px] lg:h-[75px] text-[14.2px] lg:text-[15px] submit-button"
										/>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Simplified Contact Page Animations -->
	<script>
		// Wait for page to load completely
		document.addEventListener('DOMContentLoaded', () => {
			// Check if GSAP is available (loaded from Layout)
			if (typeof gsap !== 'undefined') {
				console.log('🎬 Initializing Contact Page animations...');
				initContactAnimations();
			} else {
				console.log('⚠️ GSAP not loaded, using fallback animations');
				initFallbackAnimations();
			}
		});

		function initContactAnimations() {
			// Hero entrance animations
			const heroTl = gsap.timeline({ delay: 0.2 });
			
			heroTl.from('.contact-hero-title', {
				opacity: 0,
				y: 30,
				duration: 0.8,
				ease: 'power2.out',
			})
			.from('.contact-hero-subtitle', {
				opacity: 0,
				y: 20,
				duration: 0.6,
				ease: 'power1.out',
			}, '-=0.4')
			.from('.contact-buttons-desktop, .contact-buttons-mobile', {
				opacity: 0,
				y: 20,
				duration: 0.6,
				ease: 'power1.out',
			}, '-=0.3');

			// Scroll-triggered animations
			if (typeof ScrollTrigger !== 'undefined') {
				gsap.registerPlugin(ScrollTrigger);
				
				// Form section animations
				ScrollTrigger.create({
					trigger: '.contact-form-container',
					start: 'top 80%',
					onEnter: () => {
						gsap.from('.contact-form-content h2', {
							opacity: 0,
							y: 20,
							duration: 0.6,
							ease: 'power1.out',
						});
						
						gsap.from('.contact-form-content p', {
							opacity: 0,
							y: 15,
							duration: 0.5,
							ease: 'power1.out',
							delay: 0.1,
						});
						
						gsap.from('.form-field', {
							opacity: 0,
							y: 20,
							duration: 0.5,
							ease: 'power1.out',
							stagger: 0.1,
							delay: 0.2,
						});
						
						gsap.from('.form-submit', {
							opacity: 0,
							y: 20,
							duration: 0.6,
							ease: 'power1.out',
							delay: 0.6,
						});
					}
				});

				// Image animations
				ScrollTrigger.create({
					trigger: '.contact-desktop-image',
					start: 'top 80%',
					onEnter: () => {
						gsap.from('.contact-desktop-image', {
							opacity: 0,
							x: -50,
							duration: 0.8,
							ease: 'power2.out',
						});
					}
				});

				ScrollTrigger.create({
					trigger: '.contact-mobile-image',
					start: 'top 80%',
					onEnter: () => {
						gsap.from('.contact-mobile-image', {
							opacity: 0,
							y: 30,
							duration: 0.8,
							ease: 'power2.out',
						});
					}
				});
			}

			// Button hover effects
			const buttons = document.querySelectorAll('.contact-phone-btn, .contact-email-btn, .contact-phone-btn-mobile, .contact-email-btn-mobile');
			
			buttons.forEach(button => {
				button.addEventListener('mouseenter', () => {
					gsap.to(button, {
						y: -3,
						duration: 0.2,
						ease: 'power1.out',
					});
				});

				button.addEventListener('mouseleave', () => {
					gsap.to(button, {
						y: 0,
						duration: 0.2,
						ease: 'power1.out',
					});
				});
			});

			// Form interactions
			const formInputs = document.querySelectorAll('.form-input');
			
			formInputs.forEach(input => {
				input.addEventListener('focus', () => {
					gsap.to(input, {
						scale: 1.02,
						duration: 0.2,
						ease: 'power1.out',
					});
				});

				input.addEventListener('blur', () => {
					gsap.to(input, {
						scale: 1,
						duration: 0.2,
						ease: 'power1.out',
					});
				});
			});

			console.log('✨ Contact animations initialized successfully!');
		}

		function initFallbackAnimations() {
			// Simple CSS-based fallback animations
			const style = document.createElement('style');
			style.textContent = `
				@keyframes fadeInUp {
					from {
						opacity: 0;
						transform: translateY(20px);
					}
					to {
						opacity: 1;
						transform: translateY(0);
					}
				}
				
				@keyframes fadeIn {
					from { opacity: 0; }
					to { opacity: 1; }
				}
				
				.contact-hero-title {
					animation: fadeInUp 0.8s ease-out forwards;
				}
				
				.contact-hero-subtitle {
					animation: fadeInUp 0.6s ease-out 0.2s forwards;
				}
				
				.contact-buttons-desktop,
				.contact-buttons-mobile {
					animation: fadeInUp 0.6s ease-out 0.4s forwards;
				}
				
				.contact-form-container,
				.contact-desktop-image,
				.contact-mobile-image {
					animation: fadeIn 0.8s ease-out forwards;
				}
				
				.form-field,
				.form-submit {
					animation: fadeInUp 0.5s ease-out forwards;
				}
				
				.form-field:nth-child(1) { animation-delay: 0.1s; }
				.form-field:nth-child(2) { animation-delay: 0.2s; }
				.form-field:nth-child(3) { animation-delay: 0.3s; }
				.form-field:nth-child(4) { animation-delay: 0.4s; }
				.form-field:nth-child(5) { animation-delay: 0.5s; }
				.form-submit { animation-delay: 0.6s; }
			`;
			document.head.appendChild(style);
			
			console.log('✨ Fallback animations initialized successfully!');
		}
	</script>
</Layout>

<style>
	/* Ensure elements are visible by default */
	.contact-hero-title,
	.contact-hero-subtitle,
	.contact-buttons-desktop,
	.contact-buttons-mobile,
	.contact-form-container,
	.contact-desktop-image,
	.contact-mobile-image,
	.form-field,
	.form-submit {
		opacity: 1;
		transform: none;
	}

	/* Enhanced interactive elements */
	.contact-phone-btn,
	.contact-email-btn,
	.contact-phone-btn-mobile,
	.contact-email-btn-mobile {
		transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
	}

	.contact-phone-btn:hover,
	.contact-email-btn:hover,
	.contact-phone-btn-mobile:hover,
	.contact-email-btn-mobile:hover {
		transform: translateY(-2px);
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
	}

	.form-input {
		transition: all 0.2s ease-out;
	}

	.form-input:focus {
		transform: scale(1.01);
		box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
	}

	/* Enhanced submit button */
	.submit-button {
		transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
	}

	.submit-button:hover {
		transform: translateY(-2px);
		box-shadow: 0 8px 20px rgba(220, 38, 38, 0.3);
	}

	/* Responsive improvements */
	@media (max-width: 768px) {
		.contact-hero-title {
			font-size: 2.25rem;
		}
		
		.contact-hero-subtitle {
			font-size: 0.875rem;
		}
	}

	/* Accessibility - Respect reduced motion */
	@media (prefers-reduced-motion: reduce) {
		* {
			animation-duration: 0.01ms !important;
			animation-iteration-count: 1 !important;
			transition-duration: 0.01ms !important;
		}
	}
</style> 