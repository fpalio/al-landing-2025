---
import Layout from '../components/Layout.astro';
import Button from '../components/Button.astro';
---

<Layout title="Contact Us - American Loyalty" currentPage="contact">
	<!-- HERO SECTION -->
	<section class="relative bg-brand-blue h-[420px] lg:h-[560px] mb-0">
		<!-- Contact Header Content -->
		<div class="absolute left-1/2 top-[123px] lg:top-[171px] transform -translate-x-1/2 text-center px-4">
			<div class="flex flex-col gap-2 lg:gap-2 items-center text-white">
				<h1 class="font-semibold text-[36px] lg:text-[87px] leading-[1.36] tracking-[-1.2px] lg:tracking-[-3px] mb-0 contact-hero-title max-w-[280px] lg:max-w-none">
					Contact Us
				</h1>
				<p class="font-medium text-[12px] lg:text-[21.7px] leading-[1.36] tracking-[-0.4px] lg:tracking-[-0.72px] text-white/86 contact-hero-subtitle max-w-[300px] lg:max-w-none">
					<span class="hidden lg:inline">You are one step closer to better customer loyalty!</span>
					<span class="lg:hidden">Built on Loyalty. Backed by Experience.</span>
				</p>
			</div>
		</div>

		<!-- Contact Buttons - Desktop -->
		<div class="hidden lg:flex absolute left-1/2 top-[371px] transform -translate-x-1/2 contact-buttons-desktop">
			<div class="flex flex-row gap-4 items-center justify-center">
				<!-- Phone Button -->
				<div class="flex flex-row gap-3 items-center justify-center contact-phone-btn hover:bg-red-700 transition-all duration-300 cursor-pointer">
					<Button 
						text="+1-309-3095443"
						variant="contact"
						iconType="phone"
						href="tel:+1-309-3095443"
						className="h-[59px] px-6 py-3 text-[22px] font-normal leading-[39px] whitespace-nowrap"
					/>
				</div>

				<!-- Email Button -->
				<div class="flex flex-row gap-5 items-center justify-center contact-email-btn hover:bg-red-700 transition-all duration-300 cursor-pointer">
					<Button 
						text="contact@whiter.co"
						variant="contact"
						iconType="email"
						href="mailto:contact@whiter.co"
						className="h-[59px] px-6 py-3 text-[22px] font-medium leading-[39px] whitespace-nowrap"
					/>
				</div>
			</div>
		</div>

		<!-- Contact Buttons - Mobile -->
		<div class="lg:hidden absolute left-1/2 top-[230px] transform -translate-x-1/2 flex flex-col gap-3 items-center contact-buttons-mobile">
			<!-- Phone Button Mobile -->
			<div class="contact-phone-btn-mobile hover:bg-red-700 transition-all duration-300 cursor-pointer">
				<Button 
					text="+1-309-3095443"
					variant="contact"
					iconType="phone"
					href="tel:+1-309-3095443"
					className="h-[53px] px-4 py-3 w-[258px] text-[20px] font-normal leading-[35px]"
				/>
			</div>

			<!-- Email Button Mobile -->
			<div class="contact-email-btn-mobile hover:bg-red-700 transition-all duration-300 cursor-pointer">
				<Button 
					text="contact@whiter.co"
					variant="contact"
					iconType="email"
					href="mailto:contact@whiter.co"
					className="h-[53px] px-4 py-3 w-[258px] text-[20px] font-medium leading-[35px] rounded-md"
				/>
			</div>
		</div>
	</section>

	<!-- FORM SECTION -->
	<section class="relative bg-white py-16 lg:py-24">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
			<div class="flex flex-col lg:flex-row gap-12 lg:gap-20 items-start">
				<!-- Left Column - Image (Desktop) -->
				<div class="hidden lg:block lg:w-1/2">
					<div class="relative contact-desktop-image" data-animation="slide-left">
						<img 
							src="https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"
							alt="Contact us - American Loyalty team"
							class="w-full h-[600px] object-cover rounded-2xl shadow-2xl"
						/>
						<div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent rounded-2xl"></div>
					</div>
				</div>

				<!-- Right Column - Form -->
				<div class="w-full lg:w-1/2">
					<!-- Mobile Image -->
					<div class="block lg:hidden mb-8 contact-mobile-image" data-animation="fade-up">
						<img 
							src="https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"
							alt="Contact us - American Loyalty team"
							class="w-full h-48 object-cover rounded-2xl shadow-xl"
						/>
					</div>

					<!-- Form Container -->
					<div class="contact-form-container" data-animation="slide-right">
						<div class="bg-white rounded-2xl shadow-xl p-6 lg:p-8 border border-gray-100">
							<div class="contact-form-content">
								<!-- Form Header -->
								<div class="mb-8">
									<h2 class="text-2xl lg:text-3xl font-bold text-gray-900 mb-2">Get in Touch</h2>
									<p class="text-gray-600 text-base lg:text-lg">Ready to transform your customer loyalty? Let's start the conversation.</p>
								</div>

								<!-- Contact Form -->
								<form class="space-y-6" method="POST" action="/contact" data-contact-form>
									<!-- Name Field -->
									<div class="form-field">
										<label for="name" class="block text-sm font-semibold text-gray-700 mb-2">Full Name *</label>
										<input 
											type="text" 
											id="name" 
											name="name" 
											required 
											class="form-input w-full px-4 py-3 lg:py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-brand-red focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500"
											placeholder="Enter your full name"
										/>
									</div>

									<!-- Email Field -->
									<div class="form-field">
										<label for="email" class="block text-sm font-semibold text-gray-700 mb-2">Email Address *</label>
										<input 
											type="email" 
											id="email" 
											name="email" 
											required 
											class="form-input w-full px-4 py-3 lg:py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-brand-red focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500"
											placeholder="Enter your email address"
										/>
									</div>

									<!-- Company Field -->
									<div class="form-field">
										<label for="company" class="block text-sm font-semibold text-gray-700 mb-2">Company Name</label>
										<input 
											type="text" 
											id="company" 
											name="company" 
											class="form-input w-full px-4 py-3 lg:py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-brand-red focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500"
											placeholder="Enter your company name"
										/>
									</div>

									<!-- Phone Field -->
									<div class="form-field">
										<label for="phone" class="block text-sm font-semibold text-gray-700 mb-2">Phone Number</label>
										<input 
											type="tel" 
											id="phone" 
											name="phone" 
											class="form-input w-full px-4 py-3 lg:py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-brand-red focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500"
											placeholder="Enter your phone number"
										/>
									</div>

									<!-- Message Field -->
									<div class="form-field">
										<label for="message" class="block text-sm font-semibold text-gray-700 mb-2">Message *</label>
										<textarea 
											id="message" 
											name="message" 
											required 
											rows="4" 
											class="form-input w-full px-4 py-3 lg:py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-brand-red focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500 resize-none"
											placeholder="Tell us about your loyalty program needs..."
										></textarea>
									</div>

									<!-- Submit Button -->
									<div class="pt-4 lg:pt-6 form-submit">
										<Button 
											text="Send Message"
											variant="submit"
											type="submit"
											iconType="send"
											fullWidth={true}
											className="h-[71px] lg:h-[75px] text-[14.2px] lg:text-[15px] submit-button glow-on-hover"
										/>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Enhanced Contact Page Animations Script with GSAP -->
	<script type="module">
		import { gsap } from 'gsap';
		import { ScrollTrigger } from 'gsap/ScrollTrigger';

		gsap.registerPlugin(ScrollTrigger);

		document.addEventListener('DOMContentLoaded', () => {
			// Initialize all animations
			initializeHeroAnimations();
			initializeFormAnimations();
			initializeInteractiveElements();
		});

		function initializeHeroAnimations() {
			// Hero title animation
			gsap.from('.contact-hero-title', {
				opacity: 0,
				y: 50,
				duration: 1,
				ease: 'power3.out',
				delay: 0.2,
			});

			// Hero subtitle animation
			gsap.from('.contact-hero-subtitle', {
				opacity: 0,
				y: 30,
				duration: 0.8,
				ease: 'power3.out',
				delay: 0.4,
			});

			// Contact buttons animation
			gsap.from('.contact-buttons-desktop, .contact-buttons-mobile', {
				opacity: 0,
				y: 40,
				duration: 1,
				ease: 'back.out(1.7)',
				delay: 0.6,
			});
		}

		function initializeFormAnimations() {
			// Image animations
			ScrollTrigger.create({
				trigger: '.contact-desktop-image',
				start: 'top 80%',
				onEnter: () => {
					gsap.from('.contact-desktop-image', {
						opacity: 0,
						x: -100,
						duration: 1.2,
						ease: 'power3.out',
					});
				}
			});

			ScrollTrigger.create({
				trigger: '.contact-mobile-image',
				start: 'top 80%',
				onEnter: () => {
					gsap.from('.contact-mobile-image', {
						opacity: 0,
						scale: 0.9,
						duration: 0.8,
						ease: 'power3.out',
					});
				}
			});

			// Form container animation
			ScrollTrigger.create({
				trigger: '.contact-form-container',
				start: 'top 80%',
				onEnter: () => {
					gsap.from('.contact-form-container', {
						opacity: 0,
						x: 100,
						duration: 1.2,
						ease: 'power3.out',
					});
				}
			});

			// Form fields stagger animation
			ScrollTrigger.create({
				trigger: '.contact-form-content',
				start: 'top 75%',
				onEnter: () => {
					gsap.to('.form-field', {
						opacity: 1,
						x: 0,
						duration: 0.6,
						ease: 'power3.out',
						stagger: 0.1,
					});
					
					gsap.to('.form-submit', {
						opacity: 1,
						y: 0,
						scale: 1,
						duration: 0.8,
						ease: 'back.out(1.7)',
						delay: 0.4,
					});
				}
			});
		}

		function initializeInteractiveElements() {
			// Enhanced button hover effects
			const contactButtons = document.querySelectorAll('.contact-phone-btn, .contact-email-btn, .contact-phone-btn-mobile, .contact-email-btn-mobile');
			
			contactButtons.forEach(button => {
				button.addEventListener('mouseenter', () => {
					gsap.to(button, {
						scale: 1.05,
						y: -5,
						duration: 0.3,
						ease: 'power2.out',
					});
					gsap.to(button.querySelector('svg'), {
						rotate: 5,
						scale: 1.1,
						duration: 0.3,
						ease: 'power2.out',
					});
				});

				button.addEventListener('mouseleave', () => {
					gsap.to(button, {
						scale: 1,
						y: 0,
						duration: 0.3,
						ease: 'power2.out',
					});
					gsap.to(button.querySelector('svg'), {
						rotate: 0,
						scale: 1,
						duration: 0.3,
						ease: 'power2.out',
					});
				});

				// Click animation
				button.addEventListener('click', () => {
					gsap.to(button, {
						scale: 0.95,
						duration: 0.1,
						ease: 'power2.out',
						yoyo: true,
						repeat: 1,
					});
				});
			});

			// Form input focus animations
			const formInputs = document.querySelectorAll('.form-input');
			
			formInputs.forEach(input => {
				input.addEventListener('focus', () => {
					gsap.to(input, {
						scale: 1.02,
						duration: 0.2,
						ease: 'power2.out',
					});
				});

				input.addEventListener('blur', () => {
					gsap.to(input, {
						scale: 1,
						duration: 0.2,
						ease: 'power2.out',
					});
				});
			});

			// Submit button enhanced animation
			const submitButton = document.querySelector('.submit-button');
			if (submitButton) {
				submitButton.addEventListener('mouseenter', () => {
					gsap.to(submitButton.querySelector('.submit-icon'), {
						rotate: 360,
						duration: 0.6,
						ease: 'power2.out',
					});
				});

				submitButton.addEventListener('mouseleave', () => {
					gsap.to(submitButton.querySelector('.submit-icon'), {
						rotate: 90,
						duration: 0.3,
						ease: 'power2.out',
					});
				});
			}

			// Form submission animation
			const contactForm = document.querySelector('[data-contact-form]');
			if (contactForm) {
				contactForm.addEventListener('submit', (e) => {
					e.preventDefault();
					
					// Animate form submission
					gsap.to('.form-field', {
						opacity: 0.5,
						duration: 0.3,
						ease: 'power2.out',
					});
					
					gsap.to('.submit-button', {
						scale: 0.95,
						duration: 0.1,
						ease: 'power2.out',
						yoyo: true,
						repeat: 1,
						onComplete: () => {
							// Here you would normally submit the form
							console.log('Form submitted!');
						}
					});
				});
			}
		}

		// Continuous floating animations
		gsap.to('.contact-desktop-image img', {
			y: -10,
			duration: 3,
			ease: 'power2.inOut',
			yoyo: true,
			repeat: -1,
		});

		gsap.to('.contact-mobile-image img', {
			y: -5,
			duration: 2.5,
			ease: 'power2.inOut',
			yoyo: true,
			repeat: -1,
		});
	</script>
</Layout>

<style>
	/* Enhanced styles for smooth animations */
	.contact-hero-title,
	.contact-hero-subtitle,
	.contact-buttons-desktop,
	.contact-buttons-mobile,
	.contact-form-container,
	.contact-desktop-image,
	.contact-mobile-image,
	.form-field,
	.form-submit {
		will-change: transform, opacity;
	}

	.contact-phone-btn,
	.contact-email-btn,
	.contact-phone-btn-mobile,
	.contact-email-btn-mobile {
		will-change: transform;
		position: relative;
		overflow: hidden;
	}

	.contact-phone-btn::before,
	.contact-email-btn::before,
	.contact-phone-btn-mobile::before,
	.contact-email-btn-mobile::before {
		content: '';
		position: absolute;
		top: 0;
		left: -100%;
		width: 100%;
		height: 100%;
		background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
		transition: left 0.6s ease;
	}

	.contact-phone-btn:hover::before,
	.contact-email-btn:hover::before,
	.contact-phone-btn-mobile:hover::before,
	.contact-email-btn-mobile:hover::before {
		left: 100%;
	}

	.form-input {
		will-change: transform;
	}

	.form-input:focus {
		box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
	}

	.submit-button {
		will-change: transform;
		position: relative;
		overflow: hidden;
	}

	.submit-button::before {
		content: '';
		position: absolute;
		top: 0;
		left: -100%;
		width: 100%;
		height: 100%;
		background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
		transition: left 0.6s ease;
	}

	.submit-button:hover::before {
		left: 100%;
	}

	.submit-icon {
		will-change: transform;
	}

	/* Glowing Submit Button Effect - Based on CodePen */
	.glow-on-hover {
		border: none;
		outline: none;
		cursor: pointer;
		position: relative;
		z-index: 0;
	}

	.glow-on-hover::before {
		content: '';
		background: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000);
		position: absolute;
		top: -2px;
		left: -2px;
		background-size: 400%;
		z-index: -1;
		filter: blur(5px);
		width: calc(100% + 4px);
		height: calc(100% + 4px);
		animation: glowing 20s linear infinite;
		opacity: 0;
		transition: opacity 0.3s ease-in-out;
		border-radius: inherit;
	}

	.glow-on-hover:hover::before {
		opacity: 1;
	}

	.glow-on-hover::after {
		z-index: -1;
		content: '';
		position: absolute;
		width: 100%;
		height: 100%;
		background: #ca1a2f;
		left: 0;
		top: 0;
		border-radius: inherit;
	}

	@keyframes glowing {
		0% { background-position: 0 0; }
		50% { background-position: 400% 0; }
		100% { background-position: 0 0; }
	}

	/* Form field initial state */
	.form-field {
		opacity: 0;
		transform: translateX(20px);
	}

	.form-submit {
		opacity: 0;
		transform: translateY(20px) scale(0.95);
	}

	/* Enhanced contact button styling */
	.contact-phone-btn,
	.contact-email-btn,
	.contact-phone-btn-mobile,
	.contact-email-btn-mobile {
		transition: all 0.3s ease;
		cursor: pointer;
	}

	/* Responsive improvements */
	@media (max-width: 640px) {
		.contact-hero-title {
			font-size: 2rem;
		}
		
		.contact-hero-subtitle {
			font-size: 0.875rem;
		}
	}
</style> 